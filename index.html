<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consumables Master List</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <img src="download.png" alt="Company Logo" class="logo">
</header>
<h2>CONSUMABLES MASTER LIST</h2>
    <table>
        <thead>
            <tr>
                <th>Sl No.</th>
                <th>Consumables Description</th>
                <th>Consumable Areas</th>
                <th>Minimum Quantity</th>
                <th>Restocking Frequency</th>
                <th>Current Quantity</th> 
                <th>Take Quantity</th>
                <th>Order Status</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>1</td><td>Reflective Vests (S,M,L,XL)</td><td>TDI & PDI (EXC, RM, SDLG)</td><td>20 Nos. Each</td><td>3 Months</td><td><input type="number" placeholder="Enter quantity" data-id="1"  data-min-quantity="20"></td><td><input type="number" placeholder="Take quantity" data-id="1-take"></td><td><span id="item-1-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>2</td><td>3M Ear Plugs</td><td>EXC, RM, SDLG</td><td>200 Nos</td><td>4 Months</td><td><input type="number" placeholder="Enter quantity"data-id="2" data-min-quantity="200"><td><input type="number" placeholder="Take quantity" data-id="2-take"></td><td><span id="item-2-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>3</td><td>Dendrite</td><td>RM</td><td>10 Nos.</td><td>6 Months</td><td><input type="number" placeholder="Enter quantity" data-id="3" data-min-quantity="10"></td><td><input type="number" placeholder="Take quantity" data-id="3-take"></td><td><span id="item-3-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>4</td><td>Loctite 5412</td><td>RM</td><td>10 Nos</td><td>3 Months</td><td><input type="number" placeholder="Enter quantity" data-id="4" data-min-quantity="10"></td><td><input type="number" placeholder="Take quantity" data-id="4-take"></td><td><span id="item-4-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>5</td><td>Loctite 454 </td><td>RM, SDLG</td><td>20 Nos.</td><td>2 Months</td><td><input type="number" placeholder="Enter quantity" data-id="5" data-min-quantity="20"></td><td><input type="number" placeholder="Take quantity" data-id="5-take"></td><td><span id="item-5-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>6</td><td>Hand Sleeves</td><td>EXC,RM, SDLG</td><td>150 Nos.</td><td>3 Months</td><td><input type="number" placeholder="Enter quantity" data-id="6" data-min-quantity="150"></td><td><input type="number" placeholder="Take quantity" data-id="6-take"></td><td><span id="item-6-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>7</td><td>Loctite 574</td><td>RM</td><td>20 Nos.</td><td>3 Months</td><td><input type="number" placeholder="Enter quantity" data-id="7" data-min-quantity="20"></td><td><input type="number" placeholder="Take quantity" data-id="7-take"></td><td><span id="item-7-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>8</td><td>Loctite AA 324</td><td>RM</td><td>10 Nos.</td><td>4 Months</td><td><input type="number" placeholder="Enter quantity" data-id="8" data-min-quantity="10"></td><td><input type="number" placeholder="Take quantity" data-id="8-take"></td><td><span id="item-8-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>9</td><td>Loctite 638 </td><td>RM</td><td>5 Nos</td><td>5 Months</td><td><input type="number" placeholder="Enter quantity" data-id="9" data-min-quantity="5"></td><td><input type="number" placeholder="Take quantity" data-id="9-take"></td><td><span id="item-9-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>10</td><td> Grinding Wheels-Gold Trix</td><td>RM</td><td>50 Nos</td><td>4 Months</td><td><input type="number" placeholder="Enter quantity" data-id="10" data-min-quantity="50"></td><td><input type="number" placeholder="Take quantity" data-id="10-take"></td><td><span id="item-10-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>11</td><td>Loctite 271</td><td> RM</td><td>30 Nos</td><td>1 Month</td><td><input type="number" placeholder="Enter quantity" data-id="11" data-min-quantity="30"></td><td><input type="number" placeholder="Take quantity" data-id="11-take"></td><td><span id="item-11-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>12</td><td>3M Protective Goggles</td><td>EXC, RM, SDLG</td><td>100 Nos.</td><td>2 Months</td><td><input type="number" placeholder="Enter quantity" data-id="12" data-min-quantity="100"></td><td><input type="number" placeholder="Take quantity" data-id="12-take"></td><td><span id="item-12-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>13</td><td>Loctite Superflex 24</td><td>RM</td><td>5 Nos.</td><td>5 Months</td><td><input type="number" placeholder="Enter quantity" data-id="13" data-min-quantity="5"></td><td><input type="number" placeholder="Take quantity" data-id="13-take"></td><td><span id="item-13-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>14</td><td>Loctite LB8008 C5-A</td><td>EXC, RM</td><td>2 Nos</td><td>6 Months</td><td><input type="number" placeholder="Enter quantity" data-id="14" data-min-quantity="2"></td><td><input type="number" placeholder="Take quantity" data-id="14-take"></td><td><span id="item-14-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>15</td><td>Loctite RM 7075 Activator</td><td>RM</td><td>2 Nos</td><td>6 Months</td><td><input type="number" placeholder="Enter quantity" data-id="15" data-min-quantity="2"></td><td><input type="number" placeholder="Take quantity" data-id="15-take"></td><td><span id="item-15-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>16</td><td>Loctite 567</td><td>EXC, RM,SDLG</td><td>10 Nos.</td><td>2 Months</td><td><input type="number" placeholder="Enter quantity" data-id="16" data-min-quantity="10"></td><td><input type="number" placeholder="Take quantity" data-id="16-take"></td><td><span id="item-16-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>17</td><td>Loctite 277</td><td>EXC</td><td>12 Nos</td><td>1 Month</td><td><input type="number" placeholder="Enter quantity" data-id="17" data-min-quantity="12"></td><td><input type="number" placeholder="Take quantity" data-id="17-take"></td><td><span id="item-17-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>18</td><td>Battery Gel</td><td>EXC,RM</td><td>5 Kgs.</td><td>5 Months</td><td><input type="number" placeholder="Enter quantity" data-id="18" data-min-quantity="5"><td><input type="number" placeholder="Take quantity" data-id="18-take"></td></td><td><span id="item-18-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>19</td><td>Loctite 574</td><td>EXC,RM</td><td>10 Nos.</td><td>3 Months</td><td><input type="number" placeholder="Enter quantity" data-id="19" data-min-quantity="10"><td><input type="number" placeholder="Take quantity" data-id="19-take"></td></td><td><span id="item-19-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>20</td><td>Loctite 7649</td><td>EXC</td><td>10 Nos.</td><td>2 Months</td><td><input type="number" placeholder="Enter quantity" data-id="20" data-min-quantity="10"></td><td><input type="number" placeholder="Take quantity" data-id="20-take"></td><td><span id="item-20-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>21</td><td>Grease Nipple</td><td>EXC, RM,SDLG</td><td>50 Nos</td><td>2 Months</td><td><input type="number" placeholder="Enter quantity" data-id="21" data-min-quantity="50"></td><td><input type="number" placeholder="Take quantity" data-id="21-take"></td><td><span id="item-21-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>22</td><td>Camlin Blue Ink Bottle</td><td>EXC, RM, SDLG</td><td>100 Nos.</td><td>2 Months</td><td><input type="number" placeholder="Enter quantity"data-id="22" data-min-quantity="100"></td><td><input type="number" placeholder="Take quantity" data-id="22-take"></td><td><span id="item-22-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>23</td><td>Laces</td><td>EXC, RM, SDLG</td><td>50 Nos.</td><td>3 Months</td><td><input type="number" placeholder="Enter quantity" data-id="23" data-min-quantity="50"></td><td><input type="number" placeholder="Take quantity" data-id="23-take"></td><td><span id="item-23-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>24</td><td>Ribbon</td><td>EXC, RM, SDLG</td><td>50 Nos</td><td>3 Months</td><td><input type="number" placeholder="Enter quantity" data-id="24" data-min-quantity="50"></td><td><input type="number" placeholder="Take quantity" data-id="24-take"></td><td><span id="item-24-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>25</td><td>Floor Tape</td><td>EXC, RM, SDLG</td><td>10 Nos</td><td>2 Months</td><td><input type="number" placeholder="Enter quantity"data-id="25" data-min-quantity="10"></td><td><input type="number" placeholder="Take quantity" data-id="25-take"></td><td><span id="item-25-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr></tr>
            <tr><td>26</td><td>Floor Tape</td><td>EXC, RM, SDLG</td><td>10 Nos</td><td>2 Months</td><td><input type="number" placeholder="Enter quantity"data-id="26" data-min-quantity="10"></td><td><input type="number" placeholder="Take quantity" data-id="26-take"></td><td><span id="item-26-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>27</td><td>Loctite 577 Thread sealant</td><td>EXC,RM</td><td>10 Nos.</td><td>4 Months</td><td><input type="number" placeholder="Enter quantity" data-id="27" data-min-quantity="10"></td><td><input type="number" placeholder="Take quantity" data-id="27-take"></td><td><span id="item-27-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>28</td><td>Cut Proof Hand Gloves</td><td>SDLG,STORE,EXC,RM</td><td>600 Nos.</td><td>1 Month</td><td><input type="number" placeholder="Enter quantity"data-id="28" data-min-quantity="600"></td><td><input type="number" placeholder="Take quantity" data-id="28-take"></td><td><span id="item-28-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>29</td><td>Camlin Green Bullet Tip Paint Marker</td><td>EXC, RM, SDLG</td><td>50 Nos</td><td>2 Months</td><td><input type="number" placeholder="Enter quantity"data-id="29"data-min-quantity="50"></td><td><input type="number" placeholder="Take quantity" data-id="29-take"></td><td><span id="item-29-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>30</td><td>Venus V-410 Nose Mask</td><td>EXC,RM,SDLG,PPS,STORE</td><td>100 Nos.</td><td>2 Month</td><td><input type="number" placeholder="Enter quantity"data-id="30" data-min-quantity="100"></td><td><input type="number" placeholder="Take quantity" data-id="30-take"></td><td><span id="item-30-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>31</td><td>Metlok My-T-Sil 919 Grey RTV Silicone Sealant</td><td>EXC</td><td>25 Nos</td><td>5 Months</td><td><input type="number" placeholder="Enter quantity" data-id="31" data-min-quantity="25"></td><td><input type="number" placeholder="Take quantity" data-id="31-take"></td><td><span id="item-31-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>32</td><td>ESAB 14 Inch Leather Welding Hand Gloves</td><td>-</td><td>-</td><td>-</td><td><input type="number" placeholder="Enter quantity" data-id="32"></td><td><input type="number" placeholder="Take quantity" data-id="32-take"></td><td><span id="item-32-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>33</td><td>Art Clean (35 Kg. O.T. Drum)</td><td> RM</td><td>3 Nos</td><td>4 Months</td><td><input type="number" placeholder="Enter quantity" data-id="33" data-min-quantity="3"></td><td><input type="number" placeholder="Take quantity" data-id="33-take"></td><td><span id="item-33-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>34</td><td>Camlin White Bullet Tip Paint Marker</td><td>TDI(EXC, RM)</td><td>20 Nos</td><td>1 Month</td><td><input type="number" placeholder="Enter quantity" data-id="34" data-min-quantity="20"></td><td><input type="number" placeholder="Take quantity" data-id="34-take"></td><td><span id="item-34-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>35</td><td>Molykote Dow 111 100g Lubricant and Sealant Compound</td><td>EXC, RM, SDLG</td><td>25 Nos</td><td>2 Months</td><td><input type="number" placeholder="Enter quantity" data-id="35" data-min-quantity="25"></td><td><input type="number" placeholder="Take quantity" data-id="35-take"></td><td><span id="item-35-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>36</td><td>Diamond Teflon tape</td><td>EXC, RM, SDLG</td><td>10 Nos</td><td>6 Months</td><td><input type="number" placeholder="Enter quantity" data-id="36" data-min-quantity="10"></td><td><input type="number" placeholder="Take quantity" data-id="36-take"></td><td><span id="item-36-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>37</td><td>Luxor 902 Blue Bullet Tip Paint Marker</td><td>EXC,RM,SDLG</td><td>25 Nos</td><td>1 Month</td><td><input type="number" placeholder="Enter quantity" data-id="37" data-min-quantity="25"></td><td><input type="number" placeholder="Take quantity" data-id="37-take"></td><td><span id="item-37-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>38</td><td>Steelgrip 18mmx6.5mx0.125mm Black Insulation Tape</td><td>EXC, RM, SDLG</td><td>25 Nos</td><td>1 Month</td><td><input type="number" placeholder="Enter quantity" data-id="38" data-min-quantity="25"></td><td><input type="number" placeholder="Take quantity" data-id="38-take"></td><td><span id="item-38-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>39</td><td>Parker 57g Super O-Lube For O-Ring</td><td>EXC</td><td>20 Nos</td><td>2 Months</td><td><input type="number" placeholder="Enter quantity" data-id="39" data-min-quantity="20"></td><td><input type="number" placeholder="Take quantity" data-id="39-take"></td><td><span id="item-39-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
            <tr><td>40</td><td>Emkarate Synthetic Polyol Ester Oil, RL-32H</td><td>EXC, SDLG</td><td>3 Nos</td><td>3 Months</td><td><input type="number" placeholder="Enter quantity" data-id="40" data-min-quantity="3"></td><td><input type="number" placeholder="Take quantity" data-id="40-take"></td><td><span id="item-40-warning" class="warning" style="display: none;">NEED TO ORDER</span></td></tr>
        </tbody>
    </table>
    <button id="reset-all-btn">Reset All Quantities</button>

    <script>
// Function to save the quantity in localStorage
// Function to save quantity in localStorage
function saveQuantity(id, quantity) {
    localStorage.setItem("consumable_" + id, quantity);
}

// Function to load quantities from localStorage and attach event listeners
function loadQuantities() {
    const inputs = document.querySelectorAll('input[type="number"]:not([data-id$="-take"])');

    inputs.forEach(input => {
        const id = input.getAttribute('data-id');
        const savedQuantity = localStorage.getItem("consumable_" + id);

        // Load saved quantity from localStorage
        if (savedQuantity) {
            input.value = savedQuantity;
        }

        checkMinimumQuantity(input); // Check the minimum quantity

        // Listen for changes to save the quantity
        input.addEventListener('input', () => {
            saveQuantity(id, input.value);
            checkMinimumQuantity(input); // Re-check minimum quantity on update
        });
    });
}

// Function to take quantity and update the current quantity
function takeQuantity(id, takeAmount) {
    const currentQuantityInput = document.querySelector(`input[data-id="${id}"]`);
    let currentQuantity = parseInt(currentQuantityInput.value) || 0;

    // Check if the take amount is more than available
    if (takeAmount > currentQuantity) {
        alert('Insufficient quantity!');
        return false; // Return false if unable to take the quantity
    }

    // Deduct the taken amount from current quantity
    currentQuantity -= takeAmount;

    // Update the input field and save the new quantity
    currentQuantityInput.value = currentQuantity;
    saveQuantity(id, currentQuantity);

    checkMinimumQuantity(currentQuantityInput); // Check if it meets the minimum requirement
    return true; // Return true if quantity was successfully taken
}

// Function to check if the current quantity is below the minimum required
function checkMinimumQuantity(input) {
    const minQuantity = parseInt(input.getAttribute('data-min-quantity')) || 0;
    const currentQuantity = parseInt(input.value) || 0;
    const warningElement = document.getElementById(`item-${input.getAttribute('data-id')}-warning`);

    if (currentQuantity <= minQuantity) {
        warningElement.style.display = 'inline';
        input.closest('tr').style.backgroundColor = '#ffcccc'; // Highlight row
    } else {
        warningElement.style.display = 'none';
        input.closest('tr').style.backgroundColor = ''; // Remove highlight
    }
}

// Listen for 'Take' input to update the current quantity
document.querySelectorAll('input[data-id$="-take"]').forEach(input => {
    input.addEventListener('change', (e) => { // Changed 'input' to 'change'
        const takeAmount = parseInt(e.target.value) || 0;
        const id = e.target.getAttribute('data-id').split('-')[0]; // Get the consumable ID

        // Attempt to take the quantity
        const successfulTake = takeQuantity(id, takeAmount);

        // Clear the take input field only if the take was successful
        if (successfulTake) {
            e.target.value = '';
        }
    });
});

// Call loadQuantities on page load
document.addEventListener('DOMContentLoaded', loadQuantities);
</script>
</body>
</html>